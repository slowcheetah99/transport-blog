<%- include('./partials/index__head') %>
<body>
    <!--<div class="row">
        <div class="col-1-of-2">

        </div>

        <div class="col-1-of-2">
            
        </div>
    </div>
    <div class="row">
        <div class="col-1-of-3">

        </div>

        <div class="col-1-of-3">
            
        </div>

        <div class="col-1-of-3">
            
        </div>
    </div>

    <div class="row">
        <div class="col-1-of-4">

        </div>
        <div class="col-1-of-4">
            
        </div>
        <div class="col-1-of-4">
            
        </div>
        <div class="col-1-of-4">
            
        </div>
    </div>

    <div class="row">
        <div class="col-2-of-3">

        </div>
        <div class="col-1-of-3">
            
        </div>
    </div>

    <div class="row">
        <div class="col-3-of-4">

        </div>
        <div class="col-1-of-4">
            
        </div>
    </div>-->
    <section class="header">
        <div class="row">
            <div class="col-1-of-1 header__hero">
                <a href="/routes/">
                    <div class="header__logo">
                        <img src="/images/ROBA LOGO.png" class="header__logo--image" alt="Logo.png"/>
                    </div>
                </a>
                <div class="header__text">
                    <h1 class="heading-1">CDB TRANSPORT</h1>
                    <div class="header__cta">
                        <a class="header__button" id="register-btn" href="#register">Register</a>
                        <a class="btn-link header__button" id="login-btn" href="#login">Login</a>
                    </div>
                </div>
                <div class="header__svg">
                   
                </div>
                <div class="header__nav">
                    <ul class="header__nav-list">
                        <li class="header__nav-list-item"><a class="header__nav-list-link" href="/routes/">HOME</a></li>
                        <li class="header__nav-list-item"><a class="header__nav-list-link" href="/routes/about">ABOUT</a></li>
                        <li class="header__nav-list-item"><a class="header__nav-list-link" href="/routes/contact">CONTACT</a></li>
                    </ul>
                </div>
                <div class="header__hero-img">
                </div>

                <h1 class="header__hero-title">Advertisers</h1>
                <div class="header__hero-advertisers">
                    <div class="header__hero-advertisers-item header__hero-advertisers-item--1"></div>
                    <div class="header__hero-advertisers-item header__hero-advertisers-item--2"></div>
                    <div class="header__hero-advertisers-item header__hero-advertisers-item--3"></div>
                    <div class="header__hero-advertisers-item header__hero-advertisers-item--4"></div>
                </div>
            </div>
        </div>
    </section>
    <section class="form register" id="register">
            <form class="form__register" method="POST" action="/routes/register" enctype="multipart/form-data" id="register">
                <h2 class="u-center u-title u-margin-big">SACCO REGISTRATION</h2>
                <!--this form will only contain the fields up until membership with the user being served with an option to use premium to add to routes and being served the second form afterwards-->

                <div class="formError"></div>
                
                    <div class="form-group w-full bg-white border-2 border-gray-200 h-4 m-auto flex items-center justify-between py-10 px-4 rounded-lg">
                        <small class="text-xl font-bold">Error Message</small>
                        <span class="iconify icon-success" data-width="24" data-height="24" data-icon="si-glyph:checked"></span>
                        <span class="iconify icon-error" data-width="24" data-height="24" data-icon="carbon:warning-filled"></span>
                    </div>

                    <label type="label" for="name" class="form-control__label ">NAME:</label>
                    <input type="text" name="name" required=true id="name" class="form-control text-2xl" autocomplete="off"/>
            

                    <label type="label" for="image-upload" class="form-control__label">UPLOAD IMAGE:</label>
                    <input type="file" name="imageUpload" id="image-upload" class="form-control text-2xl" />

                    <label type="label" for="email-register" class="form-control__label">EMAIL:</label>
                    <input type="email" name="email" required=true id="email-register" class="form-control text-2xl" autocomplete="off"/>

                    <label type="label" for="password-register" class="form-control__label">PASSWORD:</label>
                    <input type="password" name="password" required=true id="password-register" class="form-control text-2xl" autocomplete="off"/>

                   <!-- <label type="label" for="password-register-confirmation" class="form-control__label">CONFIRM PASSWORD:</label>
                    <input type="password" name="confirmPass" required=true id="password-register-confirmation" class="form-control" autocomplete="off"/>-->
            

                    <label type="label" for="contactPerson" class="form-control__label">CONTACT PERSON:</label>
                    <input type="text" name="contactPerson" required=true id="contactPerson" class="form-control text-2xl" autocomplete="off"/>
            

                    <label type="label" for="contactDigits" class="form-control__label">CONTACT NUMBER:</label>
                    <input type="tel" name="contactDigits" required=true id="contactDigits" class="form-control text-2xl" autocomplete="off"/>
                    
                        <label type="label" for="routes-registered" class="form-control__label">ROUTES TO REGISTER</label>
                        <select name="routedRegistration" id="routes-registered" class="form-control text-2xl">
                            <option value="1" selected="selected">1</option>
                            <option value="2" autocomplete="off">2</option>
                            <!--add the other options later-->
                        </select>
                        <div id="members">
                        <label type="label" for="routeNumber" class="form-control__label">ROUTE NUMBER:</label>
                        <input type="number" name="routeNumber" required=true id="routeNumber" class="form-control text-2xl" autocomplete="off" />

                        <label type="label" for="start" class="form-control__label">START:</label>
                        <input type="time" name="start" required=true id="start" class="form-control text-2xl" autocomplete="off"/>

                        <label type="label" for="end" class="form-control__label">END:</label>
                        <input type="time" name="end" required=true id="end" class="form-control text-2xl" autocomplete="off"/>

                        <label type="label" for="normalFare" class="form-control__label">NORMAL FARE:</label>
                        <input type="number" name="normalFare" required=true id="normalFare" class="form-control text-2xl" autocomplete="off"/>

                        <label type="label" for="rushHourFare" class="form-control__label">RUSH HOUR FARE:</label>
                        <input type="number" name="rushHourFare" required=true id="rushHourFare" class="form-control text-2xl" autocomplete="off"/>
                    </div>
                    <div id="new-members"></div>
                <div>
                    <button type="submit" class="submit-btn">Submit</button>
                </div>
            </form>
    </section>
    <section class="form login" id="login">
        
        <form  class="form__login shadow-lg rounded-lg w-1/3 p-12" method="post" action="/routes/login" id="login">
            <div class="formError"></div>
            <h2 class="u-center text-4xl font-bold u-margin-big">LOGIN FORM</h2>
        
                <div class="form-group w-full bg-white border-2 border-gray-200 h-4 m-auto flex items-center justify-between py-10 px-4 rounded-lg">
                    <small class="text-xl font-bold">Error Message</small>
                    <span class="iconify icon-success" data-width="24" data-height="24" data-icon="si-glyph:checked"></span>
                    <span class="iconify icon-error" data-width="24" data-height="24" data-icon="carbon:warning-filled"></span>
                </div>

                <div class="w-full pb-10">
                    <label type="label" for="email-login" class="inline-block mb-4 text-2xl font-semibold">EMAIL:</label>
                    <input type="email" name="email" id="email-login" class="border-2 border-gray-200 block p-4 font-lg rounded-lg w-full outline-none text-xl" autocomplete="off" required/>
                </div>
        
                <div class="w-full pb-10">
                    <label type="label" for="password-login" class="inline-block mb-4 text-2xl font-semibold">PASSWORD:</label>
                    <input type="password" name="password" id="password-login" class="border-2 border-gray-200 block p-4 font-lg rounded-lg w-full outline-none text-xl" autocomplete="off" required/>
                    <span class="iconify icon-success absolute top-14 right-4" data-width="20" data-height="20" data-icon="si-glyph:checked"></span>
                    <span class="iconify icon-error absolute top-14 right-4" data-width="20" data-height="20" data-icon="carbon:warning-filled"></span>
                    <small class="absolute bottom-0 left-0 text-xl">Error Message</small>
                </div>

                <div>
                    <button type="submit" class="submit-btn">Submit</button>
                    <a href="/routes/password-reset" class="text-white text-2xl ml-4 hover:underline">Forgot your password &rarr;</a>
                </div>
        </form>
</section>

    <section class="about">
        <div class="row">
            <div class="col-1-of-2 about__gallery">
                <div class="about__gallery-item about__gallery-item--1"></div>
                <div class="about__gallery-item about__gallery-item--2"></div>
            </div>
            <div class="col-1-of-2 about__text">
                <div class="about__text-words">
                    <div class="about__text-words--1">
                        <h3 class="heading-3">Our Vision</h3>
                        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Beatae rerum blanditiis pariatur sint culpa dignissimos et delectus, reiciendis quas. Odio dolores modi corporis sunt pariatur quae rerum voluptas ex. Cumque.
                        </p>
                    </div>
                    <div class="about__text-words--2">
                        <h3 class="heading-3">Our Mission</h3>
                        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Beatae rerum blanditiis pariatur sint culpa dignissimos et delectus, reiciendis quas. Odio dolores modi corporis sunt pariatur quae rerum voluptas ex. Cumque.
                        </p>
                    </div>
                </div>
                <div class="about__text-button">
                    <a class="about__text-button--link" href="/routes/about">Learn More &rarr;</a>
                </div>
            </div>
        </div> 
    </section>

    <section class="services">
        <span class="iconify services__left" data-icon="akar-icons:circle-chevron-left-fill"></span>
        <span class="iconify services__right" data-icon="akar-icons:circle-chevron-right-fill"></span>
        <div class="row">
            <% users.forEach((user)=>{ %>
            <div class="col-1-of-3 services__card services__card--1">
                <div class="services__card-image" style="background-image:url('/uploads/<%=user.imageUpload%>'); background-size: cover; z-index: 900; background-position: center;"></div>
                <a class="services__card-link btn-link" href="#<%=user._id%>"><%=user.name%></a>
                <div class="services__card-info">
                    <div class="services__card-info--route"> 
                        <h3>ROUTE: </h3>
                        <h3>No.<%=user.routes[0].routeNumber%></h3>
                    </div>
                    <div class="services__card-info--fare">
                        <div class="services__card-info--fare-rush">
                            <h3>FARE(Normal Hours)</h3>
                            <h3>Ksh.<%=user.routes[0].normalFare %></h3>
                        </div>
                        <div class="services__card-info--fare-normal">
                            <h3>FARE(Rush Hour)</h3>
                            <h3>Ksh.<%=user.routes[0].rushHourFare%></h3>
                        </div>
                    </div>
                    <div class="services__card-info--operation">
                        <h3>ACTIVE HOURS:</h3>
                        <h3><%=user.routes[0].start +" - "+ user.routes[0].end%> HRS</h3>
                    </div>
                </div>   
            </div>
            <% }) %>
        </div>
    </section>

    <section class="images">
        <div class="row">
            
            <div class="col-2-of-3 images__carousel">
                        <%- include('./partials/mapbox') %>
                </div>
            
            
            <div class="col-1-of-3 images__news">
                <h2>BLOGS</h2>
                <% blogs.slice(-2).forEach(blog=>{ %>
                    <div class="images__news-elements images__news-elements--1">
                        <h4><%=blog.title%></h4>
                        <blockquote>
                            <p class="blog__description"><%=blog.description%></p>
                            <h6 class="blog__date">&mdash;<%=blog.createdAt.toLocaleDateString()%></h6>
                        </blockquote>
                    </div>
                <% }) %>
                <a href="/routes/blogs" class="about__text-button--link blog__btn">See More&rarr;</a>
            </div>
    </section>

    <section class="testimonials">
        <h2 class="testimonials__caption">Testimonials</h2>
        <div class="row">
            <div class="col-1-of-1 testimonials__elements testimonials__elements--1">
                <div class="testimonials__elements--image testimonials__elements--image--1"></div>
                <blockquote class="testimonials__elements--content testimonials__elements--content--1">
                    <q>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Sapiente maiores aspernatur commodi nemo quas harum quae voluptates vel necessitatibus, eius veniam aut eveniet, excepturi perferendis beatae! Minima temporibus eveniet excepturi.</q>
                    <figcaption>
                        <p class="testimonials__elements--content-author">&mdash; John Carpenter, CEO Maker Industries</p>
                    </figcaption>
                </blockquote>
            </div>
        </div>
        <div class="row">
            <div class="col-1-of-2 testimonials__elements testimonials__elements--2">
                <div class="testimonials__elements--image testimonials__elements--image--2"></div>
                <blockquote class="testimonials__elements--content testimonials__elements--content--2">
                    <q>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi nobis quam id veniam, cupiditate doloremque</q>
                    <figcaption>
                        <p class="testimonials__elements--content-author">&mdash; Mary Ann, Customer</p>
                    </figcaption>
                </blockquote>
            </div>
            <div class="col-1-of-2 testimonials__elements testimonials__elements--2">
                <div class="testimonials__elements--image testimonials__elements--image--3"></div>
                <blockquote class="testimonials__elements--content testimonials__elements--content--2">
                    <q>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi nobis quam id veniam, cupiditate doloremque</q>
                    <figcaption>
                        <p class="testimonials__elements--content-author">&mdash; Mary Ann, Customer</p>
                    </figcaption>
                </blockquote>
            </div>
        </div>
        <div class="row">
            <div class="col-1-of-3 testimonials__elements testimonials__elements--3">
                <blockquote class="testimonials__elements--content-only">
                    <q>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi nobis quam id veniam, cupiditate doloremque</q>
                    <figcaption>
                        <p class="testimonials__elements--content-author">&mdash; Priscilla Emy, Customer</p>
                    </figcaption>
                </blockquote>
            </div>
            <div class="col-1-of-3 testimonials__elements testimonials__elements--3">
                <blockquote class="testimonials__elements--content-only">
                    <q>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi nobis quam id veniam, cupiditate doloremque</q>
                    <figcaption>
                        <p class="testimonials__elements--content-author">&mdash; Timothy Wanjiru, Customer</p>
                    </figcaption>
                </blockquote>
            </div>
            <div class="col-1-of-3 testimonials__elements testimonials__elements--3">
                <blockquote class="testimonials__elements--content-only">
                    <q>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi nobis quam id veniam, cupiditate doloremque</q>
                    <figcaption>
                        <p class="testimonials__elements--content-author">&mdash; Imran Moha, Customer</p>
                    </figcaption>
                </blockquote>
            </div>
        </div>
    </section>
        <div class="row">
            <div class="col-1-of-1 subscription">
                <form class="newsletter__form" id="subscription__form" action="/routes/subscribe" method="post">
                    <div class="formError"></div>

                    <div class="form-group w-full bg-white border-2 border-gray-200 h-4 m-auto flex items-center justify-between py-10 px-4 rounded-lg relative">
                        <small class="text-xl font-bold">Error Message</small>
                        <span class="iconify icon-success absolute top-4 right-4" data-width="24" data-height="24" data-icon="si-glyph:checked"></span>
                        <span class="iconify icon-error" data-width="24" data-height="24" data-icon="carbon:warning-filled"></span>
                    </div>

                    <label type="label" for="email-sub" class="form-control__label">Email:</label>
                    <input type="email" class="form-control email__sub" name="email" id="email-sub" placeholder="Email Address" required autocomplete="on"/>

                    <label type="label" for="sacco-sub" class="form-control__label">Sacco To Subscribe To:</label>
                    <select name="selectSub" id="sacco-sub" class="form-control">
                        <% users.forEach((user)=>{ %>
                            <option value="<%=user.name%>" selected="selected"><%=user.name %></option>
                            <!--add the other options later-->
                    <% }) %>
                    </select>

                    <button type="submit" class="sub__btn">Subscribe</button>
                </form>
                <p>Subscribe to our Newsletter</p>
            </div>
        </div>
        <div class="sacco-contacts">
            <h2>Contact The Sacccos Using the Following Details</h2>
            <div class="sacco-contacts__div">
            <%users.forEach(user=>{ %>
            <div class="contacts__div" id="<%=user._id%>">
                <div class="contacts__div--content">
                    <h3><%=user.name%></h3>
                    <h4><%=user.email%></h4>
                    <h5><%=user.contactDigits%></h5>
                </div>
            </div>
            <% }) %>
            </div>
        </div>

        <!--modals section-->
        <div class="w-1/3 h-64 m-auto bg-white shadow-lg rounded-lg my-36 pt-4 modal-success">
            <div class="w-16 h-16 bg-green-200 rounded-full grid place-items-center mx-auto">
                <span class="iconify icon-success" data-width="24" data-height="24" data-icon="si-glyph:checked" class="text-green-800"></span>
            </div>

            <div class="modal__info grid place-items-center mt-6 modal-failure">
                <h5 class="text-3xl text-gray-700 font-bold">Success</h5>
                <button type="button" class="px-8 py-2 bg-purple-600 text-white text-xl rounded-lg outline-none border-0 mt-4">Close</button>
            </div>
        </div>

        <div class="w-1/3 h-64 m-auto bg-white shadow-lg rounded-lg my-36 pt-4">
            <div class="w-16 h-16 bg-red-200 rounded-full grid place-items-center mx-auto">
                <span class="iconify icon-error bg-red-900 rounded-full" data-width="24" data-height="24" data-icon="carbon:warning-filled"></span>
            </div>

            <div class="modal__info grid place-items-center mt-6">
                <h5 class="text-3xl text-gray-700 font-bold">Failed</h5>
                <button type="button" class="px-8 py-2 bg-gray-500 text-white text-xl rounded-lg outline-none border-0 mt-4">Close</button>
            </div>
        </div>
    <%- include('./partials/footer') %>
    <script>
        $(document).ready(()=>{
            $('#register-btn').click(()=>{
                $('#register').addClass('u-form-center').show('fast');
            })

            $('#login-btn').click(()=>{
                $('#login').addClass('u-form-center').show('fast');
            })
        })
        const selectDependants=document.getElementById('members');
        const routesRegis=document.getElementById('routes-registered');
        const newMembers=document.getElementById('new-members');

        routesRegis.addEventListener('change',(e)=>{
            let eventVariable=parseInt(e.target.value);
            console.log(typeof(eventVariable));

            for(let i=0; i < eventVariable; i++){
                console.log(eventVariable);
                newMembers.innerHTML=selectDependants.innerHTML;
            }

        })
    </script>
</body>
</html>